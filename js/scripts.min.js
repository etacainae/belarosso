// main start
// header menu
// $(document).ready(function() {
//     var previousScroll = 0,
//         headerOrgOffset = $('header').offset().top;

//     $(window).scroll(function() {
//         var currentScroll = $(this).scrollTop();
//         console.log(currentScroll + " and " + previousScroll + " and " + headerOrgOffset);
//         if(currentScroll > headerOrgOffset) {
//             if (currentScroll > previousScroll) {
//                 $('header').fadeOut();
//             } else {
//                 $('header').fadeIn();
//                 $('header').addClass('fixed');
//             }
//         } else {
//              $('header').removeClass('fixed');   
//         }
//         previousScroll = currentScroll;
//     });
    
// });
$(document).ready(function() {
  var lastScrollTop = 0;
  $(window).scroll(function(event){
     var st = $(this).scrollTop();
     if (st > lastScrollTop && pageYOffset > 200){
         // код для прокрутки вниз
         $('header').removeClass('active');
        $('header').css('transform', 'translate(-50%, -100%)');
     } else {
        // код для прокрутки вверх
        $('header').css('transform', 'translate(-50%, 0)');
        $('header').addClass('active');

     }
     lastScrollTop = st;
  });
});
  $('header .burger-item').click(function () {
    $(this).parent('.header-nav__burger').toggleClass('active');
  });
  $('header .currency-item').click(function () {
    $(this).parent('.currency').toggleClass('active');
  });
  $('header .clothes').hover(function () {
    $(this).toggleClass('active');
  });
  $('header .user-menu-item').click(function () {
    $(this).parent('.user-menu').toggleClass('active');
  });
  $('header .header-basket').hover(function () {
    $(this).toggleClass('active');
  });
  $('header .basket-wrap__item .close').click(function () {
    $(this).parents('.basket-wrap__item').hide();
  });
  // mobile header menu
  $(document).ready(function(){
    var button = $('.header-burger.mobile');
    var form = $('.mobile-menu');
    var close = $('.mobile-menu__close');
    var body = $('body');

    button.click(function(){
      form.show();
      body.css("overflow", "hidden");
    });
    close.click(function(){
      form.hide();
      body.css("overflow", "scroll");
    });
  });
  $(document).ready(function(){
    var body = $('body');

    $('.catalog-panel').siblings('.catalog-btn').click(function(){
      $(this).siblings('.catalog-panel').show();
      $(this).parents('.mobile-menu').css("overflow", "hidden");
    });
    $('.back').click(function(){
      $(this).closest('.catalog-panel').hide();
      $(this).parents('.mobile-menu').css("overflow", "scroll");
    });

    $('.catalog-panel').siblings('.stock-item__link').click(function(){
      $(this).siblings('.catalog-panel').show();
      $(this).parents('.mobile-menu').css("overflow", "hidden");
    });
    $('.catalog-close').click(function(){
      $(this).parents('.mobile-menu').hide();
      body.css("overflow", "scroll");
      $(this).parents('.mobile-menu').css("overflow", "scroll");
    });
  });
  $('.mobile-menu .currency-item').click(function () {
    $(this).parent('.currency').toggleClass('active');
  });
  // mobile header menu end
  $('.to-basket').click(function () {
    $(this).toggleClass('active');
  });
  $('.main-banner-big').slick({
    infinity: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 4600,
    arrows: false,
    dots: true,
    speed: 600,
    fade: true,
    cssEase: 'linear',
    responsive: [
      {
        breakpoint: 400,
        settings: "unslick",
      }
    ],
  });
  $('.novelty-wrap').slick({
    infinity: true,
    slidesToShow: 4,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    arrows: true,
    prevArrow: '.novelty-prev-arrow',
    nextArrow: '.novelty-next-arrow',
    responsive: [
      {
        breakpoint: 1260,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 1000,
        settings: {
          slidesToShow: 2,
          centerMode: true
        }
      },
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 400,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 350,
        settings: {
          slidesToShow: 1,
          dots: true
        }
      }
    ]
  });
  $('.brands-wrap').slick({
    infinity: true,
    slidesToShow: 6,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    arrows: true,
    prevArrow: '.brands-prev-arrow',
    nextArrow: '.brands-next-arrow',
    responsive: [
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 3,
          centerPadding: '0px',
          dots: true
        }
      }
    ]
  });
  $('.news-wrap').slick({
    infinity: true,
    slidesToShow: 2,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    arrows: true,
    prevArrow: '.news-prev-arrow',
    nextArrow: '.news-next-arrow',
    responsive: [
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
          dots: true
        }
      }
    ]
  });
  $('.bestsellers-wrap').slick({
    infinity: true,
    slidesToShow: 4,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    arrows: true,
    prevArrow: '.bestsellers-prev-arrow',
    nextArrow: '.bestsellers-next-arrow',
    responsive: [
      {
        breakpoint: 1260,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 1000,
        settings: {
          slidesToShow: 2,
          centerMode: true,
        }
      },
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 400,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 350,
        settings: {
          slidesToShow: 1,
          dots: true
        }
      }
    ]
  });
  $('.reviews-wrap').slick({
    infinity: true,
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 5000,
    arrows: true,
    prevArrow: '.reviews-prev-arrow',
    nextArrow: '.reviews-next-arrow',
    responsive: [
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
          dots: true
        }
      }
    ]
  });
  $('.blog-wrap').slick({
    infinity: true,
    slidesToShow: 2,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    arrows: true,
    prevArrow: '.blog-prev-arrow',
    nextArrow: '.blog-next-arrow',
    responsive: [
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
          dots: true
        }
      }
    ]
  });
  $('#main-info .readmore').click(function(){
    $(this).parent().siblings('.text-wrap').toggleClass('active');
    if (!$(this).data('status')) {
        $(this).html('Скрыть');
        $(this).data('status', true);
      }
      else {
        $(this).html('Читать далее..');
        $(this).data('status', false);
      }
  });
// main end
// filter start

  $('.accordion-btn').click(function () {
    $(this).siblings('.accordion-panel').slideToggle();
    $(this).toggleClass('active');
  });
   $( function() {
       $( ".price-slider" ).slider({
         range: true,
         min: 0,
         max: 10000,
         values: [ 0, 9999 ],
         slide: function( event, ui ) {
           $( ".price-min" ).val( ui.values[ 0 ] );
           $( ".price-max" ).val( ui.values[ 1 ] );
         }
       });
       $( ".price-min" ).val( $( ".price-slider" ).slider( "values", 0 ) );
       $( ".price-max" ).val( $( ".price-slider" ).slider( "values", 1 ) );
     } );
   $(".filter-wrap .color-list").mCustomScrollbar({
       setHeight: '257px',
       axis:"y"
   });
   $(".filter-wrap .brand-list").mCustomScrollbar({
       setHeight: '257px',
       axis:"y"
   });
  $('#filter-products .products-wrap .product-item').hover(function () {
    $(this).toggleClass('active');
  });
  $(document).ready(function(){
    var button = $('.product-item .quick-view');
    var form = $('.filter-card');
    var overlay = $('.overlay');
    var close = $('.card-close');
    var body = $('body');

    button.click(function(){
      form.addClass("active");
      overlay.css("display", "block");
      body.css("overflow", "hidden");
    });
    close.click(function(){
      form.removeClass("active");
      overlay.css("display", "none");
      body.css("overflow", "scroll");
    });
    overlay.click(function(){
      form.removeClass("active")
      overlay.css("display", "none");
      body.css("overflow", "scroll");
    });
  });
  $(document).ready(function(){
    var button = $('#filter-products .filter-btn-mobile');
    var form = $('#filter-products .filter-wrap');
    var overlay = $('.overlay');

    button.click(function(){
      form.addClass("active");
      overlay.css("display", "block");
    });
    overlay.click(function(){
      form.removeClass("active");
      overlay.css("display", "none");
    });
  });
// filter end
// card start
  $(document).ready(function() {
      width = $(window).width();
      if (width >= 400) {
          $('.card-foto .main-foto').zoom();
      }
  });
  $(".card-foto .gallery").mCustomScrollbar({
      axis:"x",
      advanced:{autoExpandHorizontalScroll:true}
  });
  $( function() {
      $(".tabs-wrap").tabs({
      });
    } );
  $('.more-models-wrap').slick({
    infinity: true,
    slidesToShow: 4,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    arrows: true,
    prevArrow: '.more-models-prev-arrow',
    nextArrow: '.more-models-next-arrow',
    responsive: [
      {
        breakpoint: 1260,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 1000,
        settings: {
          slidesToShow: 2,
          centerMode: true,
        }
      },
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 400,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 350,
        settings: {
          slidesToShow: 1,
          dots: true
        }
      }
    ]
  });
  $('.watched-wrap').slick({
    infinity: true,
    slidesToShow: 4,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
    arrows: true,
    prevArrow: '.watched-prev-arrow',
    nextArrow: '.watched-next-arrow',
    responsive: [
      {
        breakpoint: 1260,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 1000,
        settings: {
          slidesToShow: 2,
          centerMode: true,
        }
      },
      {
        breakpoint: 700,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 400,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          dots: true
        }
      },
      {
        breakpoint: 350,
        settings: {
          slidesToShow: 1,
          dots: true
        }
      }
    ]
  });
// card end
// basket start
  $(document).ready(function() {
    $('.minus.basket-quantity__btn').click(function() {
      const val = $(this).siblings('.basket-quantity__num').text((i, text) => Math.max(1, Math.min(100, +text - 1))).text();
      $(this).parents('.basket-item').find('.price .num').html(val * 2830);
    });
    $('.plus.basket-quantity__btn').click(function() {
      const val = $(this).siblings('.basket-quantity__num').text((i, text) => Math.max(1, Math.min(100, +text + 1))).text();
      $(this).parents('.basket-item').find('.price .num').html(val * 2830);
    });
  });

  $('#basket .basket-item .close').click(function () {
    $(this).parent('.basket-item').hide();
  });
// basket end
// popups start
$(document).ready(function(){
  var button = $('.card-wrap  .size-table');
  var form = $('.popup-size');
  var overlay = $('.overlay');
  var close = $('.popup-size .close');
  var body = $('body');

  button.click(function(){
    form.addClass("active");
    overlay.css("display", "block");
    body.css("overflow", "hidden");
  });
  close.click(function(){
    form.removeClass("active");
    overlay.css("display", "none");
    body.css("overflow", "scroll");
  });
  overlay.click(function(){
    form.removeClass("active");
    overlay.css("display", "none");
    body.css("overflow", "scroll");
  });
});
$(document).ready(function(){
  // var button = $('');
  var form = $('.popup-thanks');
  var overlay = $('.overlay');
  var close = $('.popup-thanks .close');
  var body = $('body');

  // button.click(function(){
  //   form.addClass("active");
  //   overlay.css("display", "block");
  //   body.css("overflow", "hidden");
  // });
  close.click(function(){
    form.removeClass("active");
    overlay.css("display", "none");
    body.css("overflow", "scroll");
  });
  overlay.click(function(){
    form.removeClass("active");
    overlay.css("display", "none");
    body.css("overflow", "scroll");
  });
});
$(document).ready(function(){
  // var button = $('');
  var form = $('.popup-basket');
  var overlay = $('.overlay');
  var close = $('.popup-basket .close');
  var body = $('body');

  // button.click(function(){
  //   form.addClass("active");
  //   overlay.css("display", "block");
  //   body.css("overflow", "hidden");
  // });
  close.click(function(){
    form.removeClass("active");
    overlay.css("display", "none");
    body.css("overflow", "scroll");
  });
  overlay.click(function(){
    form.removeClass("active");
    overlay.css("display", "none");
    body.css("overflow", "scroll");
  });
});
// popups end